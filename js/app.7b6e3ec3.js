(function(e){function n(n){for(var r,s,c=n[0],i=n[1],u=n[2],p=0,f=[];p<c.length;p++)s=c[p],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&f.push(o[s][0]),o[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(n);while(f.length)f.shift()();return a.push.apply(a,u||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],r=!0,c=1;c<t.length;c++){var i=t[c];0!==o[i]&&(r=!1)}r&&(a.splice(n--,1),e=s(s.s=t[0]))}return e}var r={},o={app:0},a=[];function s(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=r,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)s.d(t,r,function(n){return e[n]}.bind(null,r));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="/SalmoniaAPI/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=n,c=c.slice();for(var u=0;u<c.length;u++)n(c[u]);var l=i;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("2b0e"),o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-app",[t("v-text-field",{model:{value:e.authURL,callback:function(n){e.authURL=n},expression:"authURL"}}),t("v-btn",{on:{click:function(n){return e.loginSplatNet2(e.authURL)}}},[e._v("Login")]),t("v-btn",{on:{click:e.openOAuthURL}},[e._v("OPEN URL")])],1)},a=[],s=(t("d3b7"),t("ac1f"),t("466d"),t("96cf"),t("1da1")),c={name:"App",components:{},data:function(){return{auth:{url:"https://accounts.nintendo.com/connect/1.0.0/authorize?state=DthLWOg54YPRnkPpxhY0aMyxEfSdmRplaOtIlIJimBxnAhbM&redirect_uri=npf71b963c1b7b6d119://auth&client_id=71b963c1b7b6d119&scope=openid+user+user.birthday+user.mii+user.screenName&response_type=session_token_code&session_token_code_challenge=8PlJorbqc1oUmynjgtICD3JzrNd3oez9kTeEYBCsXls&session_token_code_challenge_method=S256&theme=login_form",verifier:"1Z67BfUuhHK8kk9SQxre81Ffx2_4Kzz42mAUUI0Ir5g",code:String}}},methods:{openOAuthURL:function(){window.open(this.auth.url,"_blank")},loginSplatNet2:function(e){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,o,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.match("de=(.*)&")[1],t.next=3,n.getSessionToken(r,n.auth.verifier);case 3:return o=t.sent,console.log("SESSION TOKEN",o),t.next=7,n.getAccessToken(o);case 7:return a=t.sent,console.log("ACCESS TOKEN",a),t.next=11,n.callS2SAPI(a);case 11:s=t.sent,console.log("HASH",s);case 13:case"end":return t.stop()}}),t)})))()},getSessionToken:function(e,n){return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,o,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="https://salmonia.mydns.jp/api/session_token",o={session_token_code:e,session_token_code_verifier:n},t.next=4,fetch(r,{method:"POST",body:JSON.stringify(o)});case 4:return a=t.sent,t.next=7,a.json();case 7:return s=t.sent,t.abrupt("return",s["session_token"]);case 9:case"end":return t.stop()}}),t)})))()},getAccessToken:function(e){return Object(s["a"])(regeneratorRuntime.mark((function n(){var t,r,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t="https://salmonia.mydns.jp/api/access_token",r={session_token:e},n.next=4,fetch(t,{method:"POST",body:JSON.stringify(r)});case 4:return o=n.sent,n.next=7,o.json();case 7:return a=n.sent,n.abrupt("return",a["access_token"]);case 9:case"end":return n.stop()}}),n)})))()},callS2SAPI:function(e){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,o,a,s,c,i,u,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r="https://elifessler.com/s2s/api/gen2",o=String(parseInt((new Date).getTime()/1e3)),a={naIdToken:e,timestamp:o},s=t("72bf"),a=s.stringify(a),c={Host:"elifessler.com","Content-Type":"application/x-www-form-urlencoded; charset=utf-8",Connection:"keep-alive",Accept:"*/*","Accept-Language":"ja-JP;q=1.0, en-CA;q=0.9, zh-Hant-CA;q=0.8","Content-Length":a.length,"User-Agent":"Salmonia for ReactNative/0.0.1 @tkgling","Accept-Encoding":"br;q=1.0, gzip;q=0.9, deflate;q=0.8"},n.next=8,fetch(r,{method:"POST",headers:c,body:a});case 8:return i=n.sent,n.next=11,i.json();case 11:return u=n.sent,l=u["hash"],console.log("s2s API(NSO)",u,l),n.abrupt("return",l);case 15:case"end":return n.stop()}}),n)})))()}}},i=c,u=t("2877"),l=t("6544"),p=t.n(l),f=t("7496"),d=t("8336"),h=t("8654"),g=Object(u["a"])(i,o,a,!1,null,null,null),m=g.exports;p()(g,{VApp:f["a"],VBtn:d["a"],VTextField:h["a"]});var b=t("f309");r["a"].use(b["a"]);var v=new b["a"]({});r["a"].config.productionTip=!1,new r["a"]({vuetify:v,render:function(e){return e(m)}}).$mount("#app")}});